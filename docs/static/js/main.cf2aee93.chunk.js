(this["webpackJsonp@dsrv/klaytn-remix-plugin"]=this["webpackJsonp@dsrv/klaytn-remix-plugin"]||[]).push([[0],{318:function(e,t,a){},377:function(e,t,a){},380:function(e,t,a){var n={"./caver-abi/src/index.js":102,"./caver-account/src/index.js":52,"./caver-contract/src/index.js":65,"./caver-core-helpers/src/index.js":26,"./caver-core-method/src/index.js":47,"./caver-core-requestmanager/caver-providers-http/src/index.js":262,"./caver-core-requestmanager/caver-providers-ipc/src/index.js":266,"./caver-core-requestmanager/caver-providers-ws/src/index.js":260,"./caver-core-requestmanager/src/index.js":257,"./caver-core-subscriptions/src/index.js":93,"./caver-core/src/index.js":36,"./caver-ipfs/src/index.js":285,"./caver-kct/src/index.js":297,"./caver-klay/caver-klay-accounts/src/index.js":300,"./caver-klay/caver-klay-personal/src/index.js":303,"./caver-klay/src/index.js":304,"./caver-middleware/src/index.js":163,"./caver-net/src/index.js":178,"./caver-rpc/src/index.js":305,"./caver-rtm/src/index.js":95,"./caver-transaction/src/index.js":306,"./caver-utils/iban/src/index.js":253,"./caver-utils/promievent/src/index.js":252,"./caver-utils/src/index.js":5,"./caver-validator/src/index.js":179,"./caver-wallet/src/index.js":173};function c(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}c.keys=function(){return Object.keys(n)},c.resolve=s,e.exports=c,c.id=380},383:function(e,t){},393:function(e,t){},395:function(e,t){},405:function(e,t){},407:function(e,t){},433:function(e,t){},438:function(e,t){},440:function(e,t){},447:function(e,t){},465:function(e,t){},483:function(e,t){},623:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(0),s=a.n(c),r=a(49),i=a.n(r),l=(a(318),a(3)),o=a.n(l),u=a(67),d=a(50),j=a(21),b=a(632),x=a(635),p=a(631),h=a(634),m=a(633),f=a(630),O=a(637),v=a(639),y=a(123),g=a.n(y),k=a(308),N=function(e){var t=s.a.useState([]),a=Object(j.a)(t,2),c=a[0],r=a[1],i=e.abi,l=e.setArgs;return s.a.useEffect((function(){r(i&&i.inputs?i.inputs:[])}),[i]),Object(n.jsx)(x.a,{className:"Method",children:function(){var e=c.map((function(e,t){return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(x.a.Text,{className:"text-muted",children:Object(n.jsx)("small",{children:e.name})}),Object(n.jsx)(x.a.Control,{type:"text",size:"sm",name:e.name,placeholder:e.type,onChange:function(e){"["===e.target.value[0]?l(e.target.name,JSON.parse(e.target.value)):l(e.target.name,e.target.value)}})]},t.toString())}));return Object(n.jsx)(x.a.Group,{children:e})}()})};function w(e){var t=[];return e.forEach((function(e){"function"===e.type&&t.push(e)})),t}function C(e,t){var a,n=[];e&&(null===(a=e.inputs)||void 0===a||a.forEach((function(e){n.push(t[e.name])})));return n}var S=function(e){var t=e.caver,a=e.networkId,c=e.busy,r=e.setBusy,i=e.addNewContract,l=e.setSelected,b=e.updateBalance,h=s.a.useState(!1),m=Object(j.a)(h,2),y=m[0],S=m[1],A=s.a.useState(null),B=Object(j.a)(A,2),E=B[0],T=B[1],M=s.a.useState(""),I=Object(j.a)(M,2),z=I[0],F=I[1],J=s.a.useState(""),_=Object(j.a)(J,2),D=_[0],R=_[1],G=s.a.useState({fileName:"",data:{}}),L=Object(j.a)(G,2),U=L[0],q=L[1],P=s.a.useState(""),H=Object(j.a)(P,2),K=H[0],W=H[1],Y=s.a.useState(null),V=Object(j.a)(Y,2),X=V[0],Q=V[1],Z=s.a.useState({}),$=Object(j.a)(Z,2),ee=$[0],te=$[1],ae=s.a.useState(""),ne=Object(j.a)(ae,2),ce=ne[0],se=ne[1],re=s.a.useState(""),ie=Object(j.a)(re,2),le=ie[0],oe=ie[1];function ue(){return de.apply(this,arguments)}function de(){return(de=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),R("fa-spin"),e.next=4,null===E||void 0===E?void 0:E.solidity.compile(z);case 4:R(""),r(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=t?t[e].abi:U.data[e].abi;W(e),Q(null),te({}),a.forEach((function(e){if("constructor"===e.type){var t,a={};null===(t=e.inputs)||void 0===t||t.forEach((function(e){a[e.name]=""})),te(a),Q(e)}})),l({name:e,address:"",abi:w(a)})}function be(){return(be=Object(d.a)(o.a.mark((function e(){var a,n,s,l,d,j,x;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c||!t){e.next=26;break}return r(!0),se(""),e.prev=3,a=new t.klay.Contract(JSON.parse(JSON.stringify(U.data[K].abi))),e.next=7,t.klay.getAccounts();case 7:return n=e.sent,s=C(X,ee),l={from:n[0],data:a.deploy({data:"0x".concat(U.data[K].evm.bytecode.object),arguments:s}).encodeABI()},e.next=12,t.klay.estimateGas(l);case 12:return d=e.sent,j=parseInt((1.5*t.utils.hexToNumber(d)).toString(),10).toString(),e.next=16,t.klay.sendTransaction(Object(u.a)({type:"SMART_CONTRACT_DEPLOY",value:0,gas:j},l));case 16:(x=e.sent).contractAddress?(se(x.contractAddress),i({name:K,address:x.contractAddress,abi:w(U.data[K].abi)})):oe("contractAddress error"),b(n[0]),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),console.error(e.t0),oe("deploy error");case 25:r(!1);case 26:case"end":return e.stop()}}),e,null,[[3,21]])})))).apply(this,arguments)}function xe(){var e=U.data,t=U.fileName.split("/")[U.fileName.split("/").length-1],a=Object.keys(e).map((function(e){return Object(n.jsx)("option",{value:e,children:"".concat(e," - ").concat(t)},e)}));return Object(n.jsx)(x.a,{children:Object(n.jsxs)(x.a.Group,{children:[Object(n.jsxs)(x.a.Text,{className:"text-muted",children:[Object(n.jsx)("small",{children:"CONTRACT"}),Object(n.jsx)(f.a,{variant:"link",size:"sm",className:"mt-0 pt-0 float-right",disabled:!U.data[K],onClick:function(){U.data[K]&&g()(JSON.stringify(U.data[K].abi,null,4))},children:Object(n.jsx)("i",{className:"far fa-copy"})})]}),Object(n.jsx)(p.a,{children:Object(n.jsx)(x.a.Control,{as:"select",value:K,onChange:function(e){je(e.target.value)},children:a})})]})})}return s.a.useEffect((function(){function e(){return(e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),t=Object(k.createClient)(),e.next=4,t.onload();case 4:return t.solidity.on("compilationFinished",(function(e,t,a,n){q({fileName:e,data:n.contracts[e]}),je(Object.keys(n.contracts[e]).length>0?Object.keys(n.contracts[e])[0]:"",n.contracts[e])})),t.on("fileManager","currentFileChanged",(function(e){F(e)})),e.prev=6,e.t0=F,e.next=10,t.fileManager.getCurrentFile();case 10:e.t1=e.sent,(0,e.t0)(e.t1),e.next=17;break;case 14:e.prev=14,e.t2=e.catch(6),console.log("Error from IDE : No such file or directory No file selected");case 17:T(t);case 18:case"end":return e.stop()}}),e,null,[[6,14]])})))).apply(this,arguments)}se(""),y||function(){e.apply(this,arguments)}()}),[a]),Object(n.jsxs)("div",{className:"Compiler",children:[Object(n.jsxs)(f.a,{variant:"primary",onClick:Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue();case 2:case"end":return e.stop()}}),e)}))),block:!0,disabled:""===z||""!==D,children:[Object(n.jsx)("i",{className:"fas fa-sync ".concat(D),style:{marginRight:"0.3em"}}),Object(n.jsxs)("span",{children:["Compile\xa0","".concat(""===z?"<no file selected>":z.split("/")[z.split("/").length-1])]})]}),Object(n.jsx)("hr",{}),Object(n.jsx)(xe,{}),Object(n.jsxs)(O.a,{children:[Object(n.jsx)(O.a.Header,{className:"p-2",children:"Deploy"}),Object(n.jsxs)(O.a.Body,{className:"py-1 px-2",children:[Object(n.jsx)(N,{abi:X,setArgs:function(e,t){ee[e]=t}}),Object(n.jsx)(v.a,{variant:"danger",onClose:function(){return oe("")},dismissible:!0,hidden:""===le,children:Object(n.jsx)("small",{children:le})}),Object(n.jsxs)(p.a,{className:"mb-3",children:[Object(n.jsx)(x.a.Control,{value:ce,placeholder:"contract address",size:"sm",readOnly:!0}),Object(n.jsx)(p.a.Append,{children:Object(n.jsx)(f.a,{variant:"warning",block:!0,size:"sm",disabled:c||!t||""===z,onClick:function(){return be.apply(this,arguments)},children:Object(n.jsx)("small",{children:"Deploy"})})})]})]})]})]})},A=a(636),B=a(638),E=(a(377),"Currently you have no contract instances to interact with."),T=function(e){var t=s.a.useState(""),a=Object(j.a)(t,2),c=a[0],r=a[1],i=s.a.useState(""),l=Object(j.a)(i,2),b=l[0],h=l[1],m=s.a.useState(""),O=Object(j.a)(m,2),y=O[0],k=O[1],w=s.a.useState({}),C=Object(j.a)(w,2),S=C[0],A=C[1],B=e.caver,E=e.busy,T=e.abi,M=e.address,I=e.updateBalance;function z(e){switch(e){case"view":case"pure":return"primary";case"nonpayable":return"warning";case"payable":return"danger"}return""}return s.a.useEffect((function(){var e,t={};null===(e=T.inputs)||void 0===e||e.forEach((function(e){t[e.name]=""})),A(t)}),[T.inputs]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(N,{abi:T,setArgs:function(e,t){S[e]=t}}),Object(n.jsx)(v.a,{variant:"danger",onClose:function(){return r("")},dismissible:!0,hidden:""===c,children:Object(n.jsx)("small",{children:c})}),Object(n.jsx)(v.a,{variant:"success",onClose:function(){return h("")},dismissible:!0,hidden:""===b,children:Object(n.jsx)("small",{children:b})}),Object(n.jsxs)(p.a,{className:"mb-3",children:[Object(n.jsxs)(p.a.Prepend,{children:[Object(n.jsx)(f.a,{variant:z(T.stateMutability),block:!0,size:"sm",disabled:E||!B,onClick:Object(d.a)(o.a.mark((function e(){var t,a,n,c,s,i,l,d,j,b,x;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],null===(t=T.inputs)||void 0===t||t.forEach((function(e){a.push(S[e.name])})),n=new B.klay.Contract(JSON.parse(JSON.stringify([T])),M),e.next=5,B.klay.getAccounts();case 5:if(c=e.sent,"view"!==T.stateMutability&&"pure"!==T.stateMutability){e.next=24;break}if(e.prev=7,!T.name){e.next=14;break}return e.next=11,(s=n.methods)[T.name].apply(s,a).call({from:c[0]});case 11:e.t0=e.sent,e.next=15;break;case 14:e.t0=null;case 15:"object"===typeof(i=e.t0)?h(JSON.stringify(i,null,4)):k(i),e.next=22;break;case 19:e.prev=19,e.t1=e.catch(7),r(e.t1.message?e.t1.message:e.t1.toString());case 22:e.next=45;break;case 24:if(e.prev=24,!T.name){e.next=39;break}return d={from:c[0],to:M,data:(l=n.methods)[T.name].apply(l,a).encodeABI()},e.next=29,B.klay.estimateGas(d);case 29:return j=e.sent,b=parseInt((1.5*B.utils.hexToNumber(j)).toString(),10).toString(),e.next=33,B.klay.sendTransaction(Object(u.a)({type:"SMART_CONTRACT_EXECUTION",value:0,gas:b},d));case 33:x=e.sent,r(""),h(JSON.stringify(x,null,2)),I(c[0]),e.next=40;break;case 39:r("abi name error");case 40:e.next=45;break;case 42:e.prev=42,e.t2=e.catch(24),r(e.t2.message?e.t2.message:e.t2.toString());case 45:case"end":return e.stop()}}),e,null,[[7,19],[24,42]])}))),children:Object(n.jsx)("small",{children:"view"===T.stateMutability||"pure"===T.stateMutability?"call":"transact"})}),Object(n.jsx)(f.a,{variant:z(T.stateMutability),size:"sm",className:"mt-0 pt-0 float-right",onClick:function(){if(T.name)try{var e,t,a=[];null===(e=T.inputs)||void 0===e||e.forEach((function(e){S[e.name]&&a.push(S[e.name])}));var n=new B.klay.Contract(JSON.parse(JSON.stringify([T])),M);g()((t=n.methods)[T.name].apply(t,a).encodeABI())}catch(c){console.log(c.toString())}},children:Object(n.jsx)("i",{className:"far fa-copy"})})]}),Object(n.jsx)(x.a.Control,{value:y,size:"sm",readOnly:!0,hidden:!("view"===T.stateMutability||"pure"===T.stateMutability)})]})]})},M=function(e){var t=e.caver,a=e.networkId,c=e.busy,r=e.setBusy,i=e.contract,l=e.index,o=e.remove,u=e.updateBalance,d=s.a.useState(!0),b=Object(j.a)(d,2),x=b[0],p=b[1];return Object(n.jsx)(B.a,{in:x,timeout:300,classNames:"zoom",unmountOnExit:!0,onExited:o,children:Object(n.jsxs)(O.a,{className:"mb-2",children:[Object(n.jsxs)(O.a.Header,{className:"px-2 py-1",children:[Object(n.jsx)("strong",{className:"align-middle",children:i.name}),"\xa0",Object(n.jsx)("small",{className:"align-middle",children:"".concat(i.address.substring(0,6),"...").concat(i.address.substring(38))}),Object(n.jsx)(f.a,{className:"float-right align-middle",size:"sm",variant:"link",onClick:function(){switch(a){case 8217:window.open("https://scope.scope.klaytn.com/account/".concat(i.address));break;case 1001:window.open("https://baobab.scope.klaytn.com/account/".concat(i.address))}},children:Object(n.jsx)("i",{className:"fas fa-external-link-alt"})}),Object(n.jsx)(f.a,{className:"float-right align-middle",size:"sm",variant:"link",onClick:function(){p(!1)},children:Object(n.jsx)("i",{className:"fas fa-trash-alt"})})]}),function(){var e=(i.abi?i.abi:[]).map((function(e,a){return Object(n.jsx)(A.a,{children:Object(n.jsxs)(O.a,{children:[Object(n.jsx)(A.a.Toggle,{as:O.a.Header,eventKey:"Methods_".concat(a),className:"p-1",children:Object(n.jsx)("small",{children:e.name})}),Object(n.jsx)(A.a.Collapse,{eventKey:"Methods_".concat(a),children:Object(n.jsx)(O.a.Body,{className:"py-1 px-2",children:Object(n.jsx)(T,{caver:t,busy:c,setBusy:r,abi:e,address:i.address,updateBalance:u})})})]})},"Methods_A_".concat(l.toString()))}));return Object(n.jsx)(n.Fragment,{children:e})}()]})})},I=function(e){var t=e.caver,a=e.networkId,c=e.busy,r=e.setBusy,i=e.contracts,l=e.updateBalance,o=s.a.useState(""),u=Object(j.a)(o,2),d=u[0],b=u[1],x=s.a.useState(0),p=Object(j.a)(x,2),h=p[0],m=p[1];return s.a.useEffect((function(){m(0),b(E)}),[i,c]),Object(n.jsxs)("div",{className:"SmartContracts",children:[Object(n.jsx)(v.a,{variant:"warning",className:"text-center",hidden:i.length!==h,children:Object(n.jsx)("small",{children:d})}),function(){var e=i.map((function(e,s){return Object(n.jsx)(M,{caver:t,networkId:a,busy:c,setBusy:r,contract:e,index:s,remove:function(){m(h+1),b(E)},updateBalance:l},"Contract_".concat(s.toString()))}));return Object(n.jsx)(n.Fragment,{children:e})}()]})},z=a(378),F=function(){var e=s.a.useState(""),t=Object(j.a)(e,2),a=t[0],c=t[1],r=s.a.useState(""),i=Object(j.a)(r,2),l=i[0],O=i[1],v=s.a.useState(0),y=Object(j.a)(v,2),g=y[0],k=y[1],N=s.a.useState(!1),w=Object(j.a)(N,2),C=w[0],A=w[1],B=s.a.useState(window.klaytn?new z(window.klaytn):null),E=Object(j.a)(B,1)[0],T=s.a.useState(""),M=Object(j.a)(T,2),F=M[0],J=M[1],_=s.a.useState([]),D=Object(j.a)(_,2),R=D[0],G=D[1],L=s.a.useState(null),U=Object(j.a)(L,2),q=U[0],P=U[1];function H(){return(H=Object(d.a)(o.a.mark((function e(){var t,n,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!E||a){e.next=10;break}return A(!0),t=window.klaytn,e.next=5,t.enable();case 5:(n=e.sent).length&&c(n[0]),s=window,(r=s.klaytn)&&r.on("networkChanged",(function(){k(parseInt(r.networkVersion,10))})),A(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){return W.apply(this,arguments)}function W(){return(W=Object(d.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t){e.next=5;break}return e.next=3,E.klay.getBalance(a);case 3:n=e.sent,O(E.utils.fromWei(n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){G(R.concat([e]))}return s.a.useEffect((function(){K(a)}),[a]),Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(b.a,{children:[Object(n.jsxs)(x.a,{children:[Object(n.jsxs)(x.a.Group,{children:[Object(n.jsx)(x.a.Text,{className:"text-muted",children:Object(n.jsx)("small",{children:"ACCOUNT"})}),Object(n.jsxs)(p.a,{children:[Object(n.jsx)(x.a.Control,{type:"text",placeholder:"Account",value:a,size:"sm",readOnly:!0}),Object(n.jsx)(p.a.Append,{hidden:""!==a,children:Object(n.jsx)(h.a,{placement:"left",overlay:Object(n.jsx)(m.a,{id:"overlay-connect",hidden:""!==a,children:"Connect to Wallet"}),children:Object(n.jsx)(f.a,{variant:"warning",block:!0,size:"sm",disabled:C,onClick:function(){return H.apply(this,arguments)},children:Object(n.jsx)("small",{children:"Connect"})})})})]})]}),Object(n.jsxs)(x.a.Group,{children:[Object(n.jsx)(x.a.Text,{className:"text-muted",children:Object(n.jsx)("small",{children:"BALANCE (KLAY)"})}),Object(n.jsx)(p.a,{children:Object(n.jsx)(x.a.Control,{type:"text",placeholder:"Account",value:l,size:"sm",readOnly:!0})})]})]}),Object(n.jsx)("hr",{}),Object(n.jsx)(S,{caver:a?E:null,networkId:g,busy:C,setBusy:A,addNewContract:Y,setSelected:P,updateBalance:K}),Object(n.jsx)("p",{className:"text-center mt-3",children:Object(n.jsx)("small",{children:"OR"})}),Object(n.jsxs)(p.a,{className:"mb-3",children:[Object(n.jsx)(x.a.Control,{value:F,placeholder:"contract address",onChange:function(e){J(e.target.value)},size:"sm",disabled:C||""===a||!q}),Object(n.jsx)(p.a.Append,{children:Object(n.jsx)(h.a,{placement:"left",overlay:Object(n.jsx)(m.a,{id:"overlay-ataddresss",children:"Use deployed Contract address"}),children:Object(n.jsx)(f.a,{variant:"primary",size:"sm",disabled:C||""===a||!q,onClick:function(){A(!0),q&&Y(Object(u.a)(Object(u.a)({},q),{},{address:F})),A(!1)},children:Object(n.jsx)("small",{children:"At Address"})})})})]}),Object(n.jsx)("hr",{}),Object(n.jsx)(I,{caver:a?E:null,networkId:g,busy:C,setBusy:A,contracts:R,updateBalance:function(e){return K(e)}})]})})},J=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,640)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(F,{})}),document.getElementById("root")),J()}},[[623,1,2]]]);
//# sourceMappingURL=main.cf2aee93.chunk.js.map